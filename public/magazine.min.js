document.addEventListener("DOMContentLoaded",(function(){$("#magazine div").each((function(){const t=$(this).data("bg");$(this).css("background-image","url("+t+")")}));let t,n,e=$("#magazine div").length,a=0;function i(){let t=window.matchMedia("(orientation: portrait)").matches?"single":"double";$("#magazine").turn("display",t)}fetch("https://ipv4.icanhazip.com").then((t=>t.text())).then((t=>{let n=t.trim();$("#ipv4-label").text(`IPv4: ${n}`)})).catch((()=>{$("#ipv4-label").text("IPv4: Not available")})),fetch("https://ipv6.icanhazip.com").then((t=>t.text())).then((t=>{let n=t.trim();$("#ipv6-label").text(`IPv6: ${n}`)})).catch((()=>{$("#ipv6-label").text("IPv6: Not available")})),$("#magazine div").each((function(){const t=$(this).data("bg"),n=new Image;n.src=t,n.onload=function(){a++;let t=a/e*100;$("#progress-bar").prop("value",t),$("#progress-label").text(Math.round(t)+"%"),$("#loading-log").text("Loaded "+a+" of "+e),a==e&&$("#loading-screen").fadeOut()}})),$("#magazine").turn({display:$(window).width()<768?"single":"double",acceleration:!0,gradients:!$.isTouch,elevation:50}),$("#prevBtn").click((function(){$("#magazine").turn("previous")})),$("#nextBtn").click((function(){$("#magazine").turn("next")})),$(window).on("keydown",(function(t){37==t.keyCode?$("#magazine").turn("previous"):39==t.keyCode&&$("#magazine").turn("next")})),$(window).on("resize orientationchange",i),window.matchMedia("(orientation: portrait)").addEventListener("change",i),i(),$("#magazine").on("touchstart",(function(n){t=n.originalEvent.touches[0].clientX})),$("#magazine").on("touchmove",(function(t){n=t.originalEvent.touches[0].clientX})),$("#magazine").on("touchend",(function(){t-n>50?$("#magazine").turn("next"):n-t>50&&$("#magazine").turn("previous")}))}));